<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment Results | Voss AI Opportunity Scorecard</title>
    <meta name="description" content="View your AI readiness assessment results and personalized recommendations">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <style>
        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            text-align: center;
            transition: all 0.2s;
            border-radius: 0.375rem;
            border: none;
            cursor: pointer;
            text-decoration: none;
        }
        .btn:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5), 0 0 0 4px rgba(59, 130, 246, 0.25);
        }
        .btn-primary {
            color: white;
            background-color: #00BFA5;
        }
        .btn-primary:hover {
            background-color: #009B8D;
        }
        .btn-primary:focus {
            box-shadow: 0 0 0 2px rgba(0, 191, 165, 0.5);
        }
        .btn-outline {
            color: #374151;
            background-color: white;
            border: 1px solid #d1d5db;
        }
        .btn-outline:hover {
            background-color: #f9fafb;
        }
        .btn-outline:focus {
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
        }
        .card {
            padding: 1.5rem;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .score-card {
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
        }
        .premium-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            background-color: #fef3c7;
            color: #92400e;
        }
        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-container.mobile {
            height: 300px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <main class="min-h-screen py-12">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto">
                <div class="mb-8 text-center">
                    <h1 class="text-3xl font-bold text-gray-900 mb-2">Your AI Readiness Results</h1>
                    <p class="text-gray-600" id="userGreeting">Hello! Here's your personalized AI readiness assessment.</p>
                </div>
                
                <!-- Results Overview -->
                <div class="bg-white rounded-lg shadow-md p-6 md:p-8 mb-8">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">AI Readiness Overview</h2>
                        <span id="tierBadge" class="premium-badge hidden">
                            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                            </svg>
                            Premium Analysis
                        </span>
                    </div>
                    
                    <!-- Radar Chart Container -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-4 text-center">AI Readiness Radar</h3>
                            <div class="chart-container">
                                <canvas id="radarChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Score Summary -->
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Section Scores</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="score-card bg-blue-100">
                                    <h4 class="text-sm font-medium text-blue-800">Strategy</h4>
                                    <p class="text-2xl font-bold text-blue-900" id="strategyScore">0%</p>
                                </div>
                                <div class="score-card bg-green-100">
                                    <h4 class="text-sm font-medium text-green-800">Operations</h4>
                                    <p class="text-2xl font-bold text-green-900" id="operationsScore">0%</p>
                                </div>
                                <div class="score-card bg-purple-100">
                                    <h4 class="text-sm font-medium text-purple-800">Technology</h4>
                                    <p class="text-2xl font-bold text-purple-900" id="technologyScore">0%</p>
                                </div>
                                <div class="score-card bg-yellow-100">
                                    <h4 class="text-sm font-medium text-yellow-800">Data</h4>
                                    <p class="text-2xl font-bold text-yellow-900" id="dataScore">0%</p>
                                </div>
                                <div class="score-card bg-red-100">
                                    <h4 class="text-sm font-medium text-red-800">Culture</h4>
                                    <p class="text-2xl font-bold text-red-900" id="cultureScore">0%</p>
                                </div>
                                <div class="score-card bg-indigo-100">
                                    <h4 class="text-sm font-medium text-indigo-800">Automation</h4>
                                    <p class="text-2xl font-bold text-indigo-900" id="automationScore">0%</p>
                                </div>
                            </div>
                            
                            <!-- Overall Score -->
                            <div class="mt-6 text-center p-6 bg-gray-50 rounded-lg">
                                <h3 class="text-lg font-medium text-gray-700 mb-2">Overall AI Readiness</h3>
                                <p class="text-4xl font-bold text-blue-600" id="overallScore">0%</p>
                                <p class="text-sm text-gray-600 mt-2" id="readinessLevel">Calculating...</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Free Tier Insights -->
                <div class="bg-white rounded-lg shadow-md p-6 md:p-8 mb-8" id="freeInsights">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Key Insights</h2>
                    <div class="space-y-6" id="basicInsightsContainer">
                        <!-- Basic insights will be inserted here -->
                    </div>
                </div>
                
                <!-- Premium Upgrade Section -->
                <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-md p-6 md:p-8 mb-8 text-white" id="premiumUpgrade">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                        <div>
                            <h2 class="text-2xl font-bold mb-4">🚀 Unlock Premium AI Insights</h2>
                            <p class="text-white text-opacity-90 mb-6">
                                Get detailed, GPT-powered recommendations tailored specifically to your organization's needs.
                            </p>
                            
                            <!-- Premium Chart Preview -->
                            <div class="bg-white bg-opacity-10 rounded-lg p-4 mb-6">
                                <h3 class="text-lg font-semibold mb-3">Premium Features Include:</h3>
                                <ul class="space-y-2 text-sm">
                                    <li class="flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                                        Advanced radar chart with industry benchmarks
                                    </li>
                                    <li class="flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                                        GPT-4 powered personalized insights
                                    </li>
                                    <li class="flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                                        30-60-90 day action plan
                                    </li>
                                    <li class="flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                                        Professional PDF report
                                    </li>
                                    <li class="flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                                        Specific tool recommendations
                                    </li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <div class="bg-white bg-opacity-10 rounded-lg p-6 mb-6">
                                <p class="text-2xl font-bold mb-2">Premium Insights</p>
                                <p class="text-4xl font-bold mb-4">$70</p>
                                <p class="text-sm text-white text-opacity-75">One-time payment • Instant access</p>
                            </div>
                            <a href="payment.html" id="upgradeButton" class="btn bg-white text-blue-600 hover:bg-gray-100 w-full">
                                Upgrade Now
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Premium Content (hidden by default) -->
                <div class="space-y-8 hidden" id="premiumContent">
                    
                    <!-- Advanced Radar Chart Comparison -->
                    <div class="bg-white rounded-lg shadow-md p-6 md:p-8">
                        <h2 class="text-2xl font-bold text-gray-900 mb-6">Advanced Analysis</h2>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-4 text-center">Your Organization vs Industry Average</h3>
                                <div class="chart-container">
                                    <canvas id="premiumRadarChart"></canvas>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-4 text-center">Readiness Maturity Path</h3>
                                <div class="chart-container">
                                    <canvas id="maturityChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- GPT-Powered Insights -->
                    <div class="bg-white rounded-lg shadow-md p-6 md:p-8">
                        <h2 class="text-2xl font-bold text-gray-900 mb-6">Your Premium AI Insights</h2>
                        
                        <!-- Executive Summary -->
                        <div class="mb-8 p-6 bg-blue-50 rounded-lg" id="executiveSummary">
                            <h3 class="text-xl font-semibold text-blue-900 mb-3">Executive Summary</h3>
                            <p class="text-blue-800" id="summaryText">Loading personalized insights...</p>
                        </div>
                        
                        <!-- AI Opportunities -->
                        <div class="mb-8">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4">Top AI Opportunities</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="opportunitiesGrid">
                                <!-- Opportunities will be inserted here -->
                            </div>
                        </div>
                        
                        <!-- Tool Recommendations -->
                        <div class="mb-8">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4">Recommended Tools & Platforms</h3>
                            <div class="space-y-4" id="toolRecommendations">
                                <!-- Tool recommendations will be inserted here -->
                            </div>
                        </div>
                        
                        <!-- Action Plan -->
                        <div class="mb-8">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4">Your AI Action Plan</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div class="bg-yellow-50 rounded-lg p-4">
                                    <h4 class="font-semibold text-yellow-800 mb-3">🚀 Immediate (0-30 days)</h4>
                                    <ul class="space-y-2" id="immediateActions">
                                        <!-- Actions will be inserted here -->
                                    </ul>
                                </div>
                                <div class="bg-blue-50 rounded-lg p-4">
                                    <h4 class="font-semibold text-blue-800 mb-3">📈 Short-term (30-90 days)</h4>
                                    <ul class="space-y-2" id="shortTermActions">
                                        <!-- Actions will be inserted here -->
                                    </ul>
                                </div>
                                <div class="bg-green-50 rounded-lg p-4">
                                    <h4 class="font-semibold text-green-800 mb-3">🎯 Long-term (90+ days)</h4>
                                    <ul class="space-y-2" id="longTermActions">
                                        <!-- Actions will be inserted here -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Voss AI Services -->
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900 mb-4">How Voss AI Can Help</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="vossAiServices">
                                <!-- Services will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Next Steps -->
                <div class="text-center">
                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Ready to Accelerate Your AI Journey?</h3>
                        <p class="text-gray-600 mb-6">Schedule a free consultation to discuss your specific AI implementation needs.</p>
                        <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
                            <a href="#" class="btn btn-primary">Schedule Free Consultation</a>
                            <a href="VossAIOpportunityScorecard.html" class="btn btn-outline">Return to Home</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="md:col-span-2">
                    <div class="flex items-center mb-4">
                        <img src="images/your-logo.png" alt="VossAIConsulting Logo" class="w-10 h-10 rounded-lg mr-3" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center mr-3" style="display: none;">
                            <span class="text-white font-bold text-lg">V</span>
                        </div>
                        <div>
                            <div class="text-xl font-bold">VossAIConsulting</div>
                            <div class="text-sm text-gray-400">Empowering Organizations with Strategic AI Implementation</div>
                        </div>
                    </div>
                    <p class="text-gray-400 leading-relaxed mb-6">
                        Led by Dr. Robert Voss, we bridge academic insight with business AI innovation. Specializing in AI readiness assessments, strategic planning, and implementation support for organizations ready to transform with AI.
                    </p>
                    <div class="flex space-x-4">
                        <a href="https://x.com/ai_voss53755" target="_blank" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                            </svg>
                        </a>
                        <a href="https://www.linkedin.com/in/ai-robvoss" target="_blank" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                        </a>
                        <a href="mailto:robvoss@vossaiconsulting.com" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2L3 7v10c0 5.55 3.84 9.95 9 9.95s9-4.4 9-9.95V7l-9-5zm0 2.5l6.5 3.5-6.5 3.5L5.5 8 12 4.5zM5 9.18l7 3.82 7-3.82V17c0 4.52-3.48 7.95-7 7.95S5 21.52 5 17V9.18z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Services</h3>
                    <ul class="space-y-3">
                        <li><a href="https://vossaiconsulting.com" target="_blank" class="text-gray-400 hover:text-white transition-colors">Assessment & Planning</a></li>
                        <li><a href="https://vossaiconsulting.com" target="_blank" class="text-gray-400 hover:text-white transition-colors">Speaking Engagements</a></li>
                        <li><a href="https://vossaiconsulting.com" target="_blank" class="text-gray-400 hover:text-white transition-colors">Implementation Support</a></li>
                        <li><a href="https://vossaiconsulting.com" target="_blank" class="text-gray-400 hover:text-white transition-colors">Fractional CTO</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact</h3>
                    <ul class="space-y-3">
                        <li><a href="mailto:robvoss@vossaiconsulting.com" class="text-gray-400 hover:text-white transition-colors">robvoss@vossaiconsulting.com</a></li>
                        <li><a href="tel:660-215-1313" class="text-gray-400 hover:text-white transition-colors">660-215-1313</a></li>
                        <li><a href="https://calendly.com/robvoss-vossaiconsulting/30min" target="_blank" class="text-gray-400 hover:text-white transition-colors">Schedule Consultation</a></li>
                        <li><a href="https://vossaiconsulting.com" target="_blank" class="text-gray-400 hover:text-white transition-colors">Visit Website</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-12 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-400 text-sm">
                        &copy; <span id="currentYear"></span> VossAIConsulting. All rights reserved.
                    </p>
                    <p class="text-gray-400 text-sm mt-4 md:mt-0">
                        Bridging Academic Insight with Business AI Innovation
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById("currentYear").textContent = new Date().getFullYear();
        
        // Safe localStorage access
        function safeLocalStorage() {
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                return {
                    getItem: (key) => localStorage.getItem(key),
                    setItem: (key, value) => localStorage.setItem(key, value),
                    removeItem: (key) => localStorage.removeItem(key)
                };
            } catch (e) {
                const memoryStorage = {};
                return {
                    getItem: (key) => memoryStorage[key] || null,
                    setItem: (key, value) => { memoryStorage[key] = value; },
                    removeItem: (key) => { delete memoryStorage[key]; }
                };
            }
        }
        
        const storage = safeLocalStorage();
        
        // Debug localStorage contents
        console.log('=== RESULTS PAGE DEBUG ===');
        console.log('localStorage contents:');
        console.log('voss_user:', storage.getItem("voss_user"));
        console.log('voss_scores:', storage.getItem("voss_scores"));
        console.log('voss_answers:', storage.getItem("voss_answers"));
        console.log('voss_tier:', storage.getItem("voss_tier"));
        
        // Check if user data and scores exist
        let userData = null;
        let scores = null;
        
        try {
            userData = JSON.parse(storage.getItem("voss_user") || "null");
            console.log('Parsed userData:', userData);
        } catch (e) {
            console.error('Error parsing user data:', e);
            userData = null;
        }
        
        try {
            scores = JSON.parse(storage.getItem("voss_scores") || "null");
            console.log('Parsed scores:', scores);
        } catch (e) {
            console.error('Error parsing scores:', e);
            scores = null;
        }
        
        const tier = storage.getItem("voss_tier") || "free";
        console.log('Tier:', tier);
        
        let premiumInsights = null;
        try {
            premiumInsights = JSON.parse(storage.getItem("voss_premium_insights") || "null");
        } catch (e) {
            premiumInsights = null;
        }
        
        // Add fallback data if no real data exists
        if (!userData) {
            userData = {
                firstName: 'Demo User',
                email: 'demo@example.com',
                industry: 'Technology',
                jobTitle: 'Manager',
                role: 'Manager'
            };
            console.log('No user data found - using fallback data');
        }
        
        if (!scores) {
            console.log('No scores found - checking if we can reconstruct from answers...');
            
            // Try to reconstruct scores from answers if available
            let answers = null;
            try {
                answers = JSON.parse(storage.getItem("voss_answers") || "null");
                console.log('Found answers:', answers);
            } catch (e) {
                console.log('No answers found either');
            }
            
            if (answers && Object.keys(answers).length > 0) {
                // Reconstruct scores from answers
                scores = {
                    strategy: 0,
                    operations: 0,
                    technology: 0,
                    data: 0,
                    culture: 0,
                    automation: 0
                };
                
                // Section definitions (matching assessment.html)
                const sections = {
                    strategy: ['strategy_vision', 'strategy_problems', 'strategy_leadership', 'strategy_budget', 'strategy_culture'],
                    operations: ['ops_process_mapping', 'ops_automation_candidates', 'ops_change_readiness', 'ops_efficiency_measurement'],
                    technology: ['tech_infrastructure', 'tech_cloud_experience', 'tech_data_systems', 'tech_security'],
                    data: ['data_quality', 'data_accessibility', 'data_governance', 'data_privacy'],
                    culture: ['culture_enthusiasm', 'culture_change_embrace', 'culture_learning', 'culture_collaboration'],
                    automation: ['auto_current_state', 'auto_employee_understanding', 'auto_tools_experience', 'auto_roi_measurement']
                };
                
                // Calculate scores for each section
                Object.keys(sections).forEach(sectionId => {
                    let sectionTotal = 0;
                    let questionCount = 0;
                    
                    sections[sectionId].forEach(questionId => {
                        if (answers[questionId] !== undefined) {
                            sectionTotal += (answers[questionId] / 4) * 100;
                            questionCount++;
                        } else {
                            // Default to neutral if no answer
                            sectionTotal += 50;
                            questionCount++;
                        }
                    });
                    
                    scores[sectionId] = questionCount > 0 ? Math.round(sectionTotal / questionCount) : 50;
                });
                
                console.log('Reconstructed scores from answers:', scores);
                // Save the reconstructed scores
                storage.setItem("voss_scores", JSON.stringify(scores));
            } else {
                // Use demo scores as last resort
                scores = {
                    strategy: 75,
                    operations: 68,
                    technology: 72,
                    data: 65,
                    culture: 78,
                    automation: 60
                };
                console.log('Using demo scores as fallback:', scores);
            }
        }
        
        // Update user greeting
        document.getElementById("userGreeting").textContent = 
            `Hello, ${userData.firstName}! Here's your personalized AI readiness assessment.`;
        
        // Update scores display
        const strategyScore = scores.strategy || 0;
        const operationsScore = scores.operations || 0;
        const technologyScore = scores.technology || 0;
        const dataScore = scores.data || 0;
        const cultureScore = scores.culture || 0;
        const automationScore = scores.automation || 0;
        
        document.getElementById("strategyScore").textContent = `${strategyScore}%`;
        document.getElementById("operationsScore").textContent = `${operationsScore}%`;
        document.getElementById("technologyScore").textContent = `${technologyScore}%`;
        document.getElementById("dataScore").textContent = `${dataScore}%`;
        document.getElementById("cultureScore").textContent = `${cultureScore}%`;
        document.getElementById("automationScore").textContent = `${automationScore}%`;
        
        // Calculate overall score
        const overallScore = Math.round(
            (strategyScore + operationsScore + technologyScore + dataScore + cultureScore + automationScore) / 6
        );
        document.getElementById("overallScore").textContent = `${overallScore}%`;
        
        // Update readiness level
        let readinessLevel = 'Beginning';
        if (overallScore >= 80) readinessLevel = 'Advanced';
        else if (overallScore >= 60) readinessLevel = 'Intermediate';
        else if (overallScore >= 40) readinessLevel = 'Developing';
        
        document.getElementById("readinessLevel").textContent = `${readinessLevel} Level`;
        
        // Send results to Google Sheets
        async function sendResultsToGoogleSheets() {
            // Replace with your Google Apps Script Web App URL
            const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwvfFMWKg81dAZEIO41_GmB724eCpraCBYjloziHye_9Aun-Jn7xBuf2L5QmgzfQu-j/exec";
            
            try {
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors', // Required for Google Apps Script
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        type: 'assessment_results',
                        user: userData,
                        scores: {
                            strategy: strategyScore,
                            operations: operationsScore,
                            technology: technologyScore,
                            data: dataScore,
                            culture: cultureScore,
                            automation: automationScore
                        },
                        overallScore: overallScore,
                        readinessLevel: readinessLevel,
                        tier: tier,
                        timestamp: new Date().toISOString()
                    })
                });
                
                console.log('Assessment results sent to Google Sheets');
                return true;
            } catch (error) {
                console.error('Error sending results to Google Sheets:', error);
                return false;
            }
        }
        
        // Send results when page loads (after scores are calculated)
        sendResultsToGoogleSheets();
        
        // Create basic radar chart
        function createBasicRadarChart() {
            console.log('=== CREATING BASIC RADAR CHART ===');
            
            const ctx = document.getElementById('radarChart');
            if (!ctx) {
                console.error('radarChart canvas element not found!');
                return;
            }
            
            const chartData = [strategyScore, operationsScore, technologyScore, dataScore, cultureScore, automationScore];
            console.log('Chart data:', chartData);
            
            try {
                const chart = new Chart(ctx.getContext('2d'), {
                    type: 'radar',
                    data: {
                        labels: ['Strategy', 'Operations', 'Technology', 'Data', 'Culture', 'Automation'],
                        datasets: [{
                            label: 'Your AI Readiness',
                            data: chartData,
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(59, 130, 246, 1)',
                            pointRadius: 6,
                            pointHoverRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        },
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100,
                                min: 0,
                                ticks: {
                                    stepSize: 20,
                                    font: {
                                        size: 12
                                    }
                                },
                                pointLabels: {
                                    font: {
                                        size: 14,
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                },
                                angleLines: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                }
                            }
                        }
                    }
                });
                console.log('Basic radar chart created successfully');
                return chart;
            } catch (error) {
                console.error('Error creating radar chart:', error);
            }
        }
        
        // Create premium radar chart with industry comparison
        function createPremiumRadarChart() {
            const ctx = document.getElementById('premiumRadarChart').getContext('2d');
            
            // Mock industry averages (in production, get from backend)
            const industryAverages = getIndustryAverages(userData.industry);
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Strategy', 'Operations', 'Technology', 'Data', 'Culture', 'Automation'],
                    datasets: [
                        {
                            label: 'Your Organization',
                            data: [strategyScore, operationsScore, technologyScore, dataScore, cultureScore, automationScore],
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 3,
                            pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                            pointBorderColor: '#fff',
                            pointRadius: 6
                        },
                        {
                            label: `${userData.industry} Average`,
                            data: industryAverages,
                            backgroundColor: 'rgba(156, 163, 175, 0.1)',
                            borderColor: 'rgba(156, 163, 175, 1)',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            pointBackgroundColor: 'rgba(156, 163, 175, 1)',
                            pointBorderColor: '#fff',
                            pointRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14
                                }
                            }
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            min: 0,
                            ticks: {
                                stepSize: 20,
                                font: {
                                    size: 12
                                }
                            },
                            pointLabels: {
                                font: {
                                    size: 13,
                                    weight: 'bold'
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Create maturity progression chart
        function createMaturityChart() {
            const ctx = document.getElementById('maturityChart').getContext('2d');
            
            const maturityLevels = ['Beginning', 'Developing', 'Intermediate', 'Advanced'];
            const currentLevel = maturityLevels.indexOf(readinessLevel);
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: maturityLevels,
                    datasets: [{
                        label: 'AI Readiness Maturity',
                        data: maturityLevels.map((_, index) => index <= currentLevel ? 100 : 0),
                        backgroundColor: maturityLevels.map((_, index) => 
                            index <= currentLevel ? 'rgba(34, 197, 94, 0.8)' : 'rgba(229, 231, 235, 0.8)'
                        ),
                        borderColor: maturityLevels.map((_, index) => 
                            index <= currentLevel ? 'rgba(34, 197, 94, 1)' : 'rgba(156, 163, 175, 1)'
                        ),
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            display: false,
                            max: 100
                        },
                        y: {
                            ticks: {
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Get industry averages (mock data)
        function getIndustryAverages(industry) {
            const industryData = {
                'Finance & Banking': [72, 68, 75, 80, 65, 70],
                'Healthcare': [65, 70, 60, 85, 68, 62],
                'Technology': [85, 78, 90, 82, 80, 85],
                'Manufacturing': [58, 75, 65, 72, 60, 78],
                'Education': [55, 65, 58, 70, 75, 60],
                'Government': [45, 60, 50, 75, 55, 65],
                'Retail': [62, 72, 68, 65, 70, 75],
                'Legal': [48, 55, 52, 78, 58, 50],
                'Consulting': [75, 70, 72, 75, 78, 68],
                'Non-profit': [42, 58, 45, 68, 72, 55]
            };
            return industryData[industry] || [60, 65, 62, 70, 68, 65];
        }
        
        // Generate basic insights
        function generateBasicInsights() {
            const insights = [];
            
            // Identify strengths and weaknesses
            const sectionScores = {
                'Strategy': strategyScore,
                'Operations': operationsScore,
                'Technology': technologyScore,
                'Data': dataScore,
                'Culture': cultureScore,
                'Automation': automationScore
            };
            
            const sortedSections = Object.entries(sectionScores)
                .sort(([,a], [,b]) => b - a);
            
            const strongestArea = sortedSections[0];
            const weakestArea = sortedSections[sortedSections.length - 1];
            
            // Strength insight
            insights.push({
                type: 'strength',
                title: `Strong ${strongestArea[0]} Foundation`,
                description: `Your ${strongestArea[0].toLowerCase()} readiness score of ${strongestArea[1]}% indicates a solid foundation in this area. This strength can be leveraged to accelerate AI adoption in other domains.`,
                icon: '💪'
            });
            
            // Weakness insight
            insights.push({
                type: 'weakness',
                title: `${weakestArea[0]} Needs Attention`,
                description: `Your ${weakestArea[0].toLowerCase()} score of ${weakestArea[1]}% suggests this area requires focused improvement to support successful AI implementation.`,
                icon: '⚠️'
            });
            
            // Overall readiness insight
            let readinessInsight;
            if (overallScore >= 70) {
                readinessInsight = {
                    type: 'positive',
                    title: 'Well-Positioned for AI Success',
                    description: `With an overall readiness score of ${overallScore}%, your organization shows strong potential for successful AI implementation. Focus on addressing specific gaps to maximize impact.`,
                    icon: '🎯'
                };
            } else if (overallScore >= 50) {
                readinessInsight = {
                    type: 'moderate',
                    title: 'Solid Foundation with Room for Growth',
                    description: `Your ${overallScore}% readiness score indicates good potential. Strategic improvements in key areas will position you for AI success.`,
                    icon: '📈'
                };
            } else {
                readinessInsight = {
                    type: 'caution',
                    title: 'Foundation Building Needed',
                    description: `Your ${overallScore}% score suggests focusing on fundamental readiness areas before pursuing complex AI initiatives will yield the best results.`,
                    icon: '🏗️'
                };
            }
            
            insights.push(readinessInsight);
            
            return insights;
        }
        
        // Render basic insights
        function renderBasicInsights() {
            console.log('=== RENDERING BASIC INSIGHTS ===');
            console.log('Generating insights with scores:', {
                strategy: strategyScore,
                operations: operationsScore,
                technology: technologyScore,
                data: dataScore,
                culture: cultureScore,
                automation: automationScore,
                overall: overallScore
            });
            
            const insights = generateBasicInsights();
            console.log('Generated insights:', insights);
            
            const container = document.getElementById('basicInsightsContainer');
            if (!container) {
                console.error('basicInsightsContainer not found!');
                return;
            }
            
            // Clear any existing content
            container.innerHTML = '';
            
            if (!insights || insights.length === 0) {
                console.error('No insights generated!');
                container.innerHTML = '<p class="text-gray-500">Unable to generate insights at this time.</p>';
                return;
            }
            
            insights.forEach((insight, index) => {
                console.log(`Rendering insight ${index}:`, insight);
                
                const insightDiv = document.createElement('div');
                insightDiv.className = 'p-4 border-l-4 rounded-lg';
                
                if (insight.type === 'strength' || insight.type === 'positive') {
                    insightDiv.className += ' border-green-500 bg-green-50';
                } else if (insight.type === 'weakness' || insight.type === 'caution') {
                    insightDiv.className += ' border-red-500 bg-red-50';
                } else {
                    insightDiv.className += ' border-blue-500 bg-blue-50';
                }
                
                insightDiv.innerHTML = `
                    <div class="flex items-start">
                        <span class="text-2xl mr-3">${insight.icon}</span>
                        <div>
                            <h4 class="font-semibold text-gray-900 mb-2">${insight.title}</h4>
                            <p class="text-gray-700 text-sm">${insight.description}</p>
                        </div>
                    </div>
                `;
                
                container.appendChild(insightDiv);
            });
            
            console.log('Basic insights rendered successfully');
        }
        
        // Always show basic insights for free tier
        console.log('Rendering basic insights...');
        renderBasicInsights();
        
        // Check tier and show appropriate content
        if (tier === 'premium' || premiumInsights) {
            // Show premium content
            console.log('Showing premium content');
            document.getElementById('premiumUpgrade').style.display = 'none';
            document.getElementById('premiumContent').classList.remove('hidden');
            document.getElementById('tierBadge').classList.remove('hidden');
            
            // Create premium charts
            createPremiumRadarChart();
            createMaturityChart();
            
            // Load premium insights (in production, this would be from API)
            if (premiumInsights) {
                loadPremiumInsights(premiumInsights);
            }
        } else {
            console.log('Showing free tier content');
        }
        
        // Initialize basic radar chart
        console.log('Creating basic radar chart...');
        createBasicRadarChart();
        
        // Mock function to load premium insights
        function loadPremiumInsights(insights) {
            // This would typically load from the backend/API
            // For now, we'll use placeholder content
            document.getElementById('summaryText').textContent = 
                insights.summary || 'Loading your personalized insights...';
        }